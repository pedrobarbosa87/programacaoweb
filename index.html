<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       
       
       body {
    background-color: rgb(3, 61, 3);
    color: rgb(11, 212, 21);
    font-family: 'retro', Times, serif;
    font-weight: normal;
    text-align: center;
}
    </style>
</head>
<body>
    <h1>Contador de Palavras</h1>
    <p> Um cidadão fez voto de desapego e pobreza. Dispôs de todos os seus bens e propriedades, reservou para si apenas duas tangas, e saiu pelo mundo afora em busca de todos os sábios, medindo na verdade o desapego de cada um. Levava apenas uma tanga no corpo.
        Estava convencido de não encontrar quem ganhasse de si em despojamento, quando soube de um velho guru. Tomando as direções, parte ao encontro do velho sábio.
        Quando lá chegou, tristeza e decepção! Encontrou terras bem cuidadas, um palácio faustoso, muita riqueza, muita pompa. Indignado, procura pelo guru. Um velho servo lhe diz que ele está em uma ala dos magníficos jardins com seus discípulos, estudando desapego. Como era costume da casa Ter gentileza para com os hóspedes, o servo convida o andarilho para o banho, repouso e refeição, antes de se dirigir à presença do sábio.</p>

        <script>
 
         let text = "Um cidadão fez voto de desapego e pobreza. Dispôs de todos os seus bens e propriedades, reservou para si apenas duas tangas, e saiu pelo mundo afora em busca de todos os sábios, medindo na verdade o desapego de cada um. Levava apenas uma tanga no corpo.Estava convencido de não encontrar quem ganhasse de si em despojamento, quando soube de um velho guru. Tomando as direções, parte ao encontro do velho sábio.Quando lá chegou, tristeza e decepção! Encontrou terras bem cuidadas, um palácio faustoso, muita riqueza, muita pompa. Indignado, procura pelo guru. Um velho servo lhe diz que ele está em uma ala dos magníficos jardins com seus discípulos, estudando desapego. Como era costume da casa Ter gentileza para com os hóspedes, o servo convida o andarilho para o banho, repouso e refeição, antes de se dirigir à presença do sábio."
        

         let words = text.split(/\s/); 

         var keys = [];
         let count = {};
         for (let i = 0; i < words.length; i++){
            let palavra = words[i].toLowerCase();
            //console.log(palavra);
            if (count[palavra] == undefined){
                count[palavra] = 1;
                keys.push(palavra);
            }else {
                count[palavra]++;
            }
                
            
         }
         keys.sort(compare);

         function compare(a,b){
            let countA = count[a];
            let countB = count[b];
            return countB - countA ;
         }

         for (i = 0; i < keys.length; i++){
            let key = keys[i];
            document.writeln(key + " " + count[key]);
         }
            

        </script>
</body>
</html>